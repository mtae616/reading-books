# 신뢰할 수 있고 확장 가능하며 유지보수하기 쉬운 애플리케이션
- 오늘날의 애플리케이션 계산 중심 -> 데이터 중심
- CPU 성능 보다 데이터의 양, 데이터의 복잡도 데이터의 변화 속도가 쟁점
- 표준 구성 요소
  - 데이터 저장을 위한 -> 데이터베이스
  - 빠른 접근을 위한 -> 캐시
  - 사용자가 데이터 검색을 위한 -> 검색 색인
  - 비동기 처리를 위해 다른 프로세스로 메세지 보내기 -> 스트림 처리
  - 주기적으로 대량의 누적 데이터 분석 -> 일괄 처리

## 소프트웨어 시스템에서 중요하게 생각하는 세가지
- 신뢰성
  - 하드웨어나 소프트웨어 결함, 혹은 휴먼 에러에 직면하더라도 올바르게 동작해야 함
- 확장성
  - 시스템의 데이터 양, 트래픽 양, 복잡도가 증가하면서 이를 처리할 수 있는 적절한 방법
- 유지보수성
  - 여러 다양한 사람이 함꼐 작업하면서도 생산적으로 작업해야 함

## 신뢰성
- 소프트웨어의 경우 신뢰성에 대한 일반적인 기대치
  - 사용자가 기대한 기능 수행
  - 사용자가 범한 실수나 예상치 못한 소프트웨어 사용법을 허용
  - 시스템 성능은 예상된 부하와 데이터 양에서 필수적인 사용 사례를 충분히 만족
  - 시스템은 허가되지 않은 접근과 오남용 방지
- 결함을 예측하고 대처하는 시스템
  - 내결함성
  - 탄력성을 지녔다고 말함
  - 결함은 장애와 다르다
  - 넷플릭스의 `카오스 몽키`를 사용하여 내결함성 시스템을 지속적으로 훈련하고 테스트할 수 있음
- 하드웨어 결함
  - 하드, 램, cpu, 등등등...
- 소프트웨어 오류
  - 시스템 내 체계적 오류
    - 서버 인스턴스가 죽는 소프트웨어 버그
    - CPU 시간, 메모리, 디스크 공간, 네트워크 대역폭처럼 공유 자원을 과도하게 사용하는 프로세스
    - 시스템 속도가 느려져 반응이 없거나 잘못된 응답을 반환하는 서비스
    - 한 구성 요소의 작은 결함이 다른 구성 요소의 결함을 야기하고 차례차례 더 많은 결함이 발생하는 연쇄 장애
- 인적 오류
  - test 잘 하기
  - sandbox
  - 인적 오류를 빠르고 쉽게 복구
  - 성능 지표와 오류율 같은 상세하고 명확한 모니터링 대책 바련

## 확장성
- 시스템이 특정 방식으로 커지면 이에 대처하기 위한 선택
- 부하 기술하기
  - 시스템의 현재 부하를 간결하게 기술
  - 부하 매개변수
    - tps
    - db cud/r
    - active user
    - cache hit
- 성능 기술하기
  - 하둡 같은 batch 는 처리량에 관심을 가짐
  - 온라인 시스템에서는 응답 시간이 더 중요하다
  - 응답 시간은 단일 숫자가 아니라 분포로 생각해야 한다
    - 백그라운드 프로세스 context switch
    - 네트워크 패킷 손실, tcp 재전송
    - gc (stop the world)
    - page fault
    - 위와 같은 이유들 때문에
  - 꼬리 지연
    - 상위 백분위 응답 시간
    - 응답시간이 느린 고객 -> 그만큼 많은 데이터를 쌓은 고객 (가장 소중)
      - 따라서 웹사이트를 빠르게 제공
      - 다만 99.99 (10,000 건 중 1건)의 최적화에는 비용이 너무 많이 듬
  - 부하 대응 접근 방식
    - scale up
    - scale out

## 유지보수성
- 레거시 소프트웨어를 만들지 않게끔 하는 설계 원칙
  - 운용성
    - 원활하게 운영할 수있게 만들 것
    - 모니터링
    - 보안 패치, 소프트웨어 플랫폼 최신 유지
    - 배포, 설정 관리
  - 단순성
    - 시스템을 이해하기 쉽게 만들 것
    - 추상화
  - 발전성
    - 쉽게 변경할 수 있게 할 것(유연성, 수정 가능성, 적응성 다 같은 말)
    - agile, tdd

# 정리
- 신뢰성
  - 결함시에도 시스템 올바르게 동작
  - 하드웨어, 스프트웨어 사람에게서 결함 발생
  - 내결함성은 최종 사용자에게 결함을 숨기게 해줌
- 확장성
  - 부하가 증가해도 좋은 성능을 유지
  - 성능 측정 -> 꼬리 지연
- 유지보수성
  - 추상화, 복잡도 낮추고 쉽게 시스템 변경