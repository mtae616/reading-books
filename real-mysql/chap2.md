## 시스템 변수

MySQL 서버는 기동하면서 설정 파일의 내용을 읽어 메모리나 작동 방식을 초기화하고 접속된 사용자를 제어하기 위해 이러한 값을 별도로 저장해 둔다. MySQL 서버에서는 이렇게 저장된 값을 시스템 변수라고 한다.

각 시스템 변수는 MySQL 서버에 접속해 SHOW VARIABLES 또는 SHOW GLOBAL VARIABLES 라는 명령으로 확인할 수 있다.

시스템 변수 5가지가 가지는 속성의 의미는 다음과 같다.

- Cmd-Line
    - MySQL 서버의 명령행 인자로 설정될 수 있는지 여부
    - 이 값이 Yes 면 명령행 인자로 이 시스템 변수의 값을 변경하는 것이 가능하다는 의미이다.
- Option file
    - MySQL 설정 파일인 my.cnf (또는 my.ini) 로 제어할 수 있는지 여부
    - 옵션 파일이나 설정 파일 또는 컨피규레이션 파일 등은 전부 my.cnf(or my.ini) 파일을 지칭하는 것으로 같은 의미로 사용된다.
- System Var
    - 시스템 변수인지 아닌지를 나타낸다.
- Var Scope
    - 시스템 변수의 적용 범위는 나타낸다
    - Global
        - 서버 전체
    - Session
        - MySQL 서버와 클라이언트 간 커넥션
    - Both
        - 둘 다
- Dynamic
    - 시스템 변수가 동적인지 정적인지 구분하는 변수

## 글로벌 변수와 세션 변수

일반적으로 세션별로 적용되는 시스템 변수의 경우 글로벌 변수뿐만 아니라 세션 변수에도 동시에 존재한다.

- 글로벌 범위의 시스템 변수는 하나의 MySQL 서버 인스턴스 전체에 영향을 미치는 시스템 변수를 의미한다.
    - 주로 MySQL 서버 자체에 관련된 설정일 때가 많다.
    - InnoDB 버퍼 풀 크기 (innodb_buffer_pool_size)
    - MyISAM 의 키 캐시 크기 (key_buffer)size)
- 세션 범위의 시스템 변수는 MySQL 클라이언트가 MySQL 서버에 접속할 때 기본으로 부여하는 옵션의 기본값을 제어하는 데 사용된다.
    - 개별 커넥션 단위로 다른 값으로 변경할 수 있다.
- Both 로 명시되면 서버만 기억하고 있다가 커넥션 들어오면 커넥션의 기본값으로 사용한다.

## 정적 변수와 동적 변수

서버가 기동 중인 상태에서 변경 가능하면 동적 변수, 아니면 정적 변수

- 설정 파일을 변경하는 경우와 이미 기동 중인 MySQL 서버의 메모리에 있는 MySQL 서버의 시스템 변수를 변경하는 경우
    - 설정 파일을 변경해도 재시작 되기 전까진 변경되지 않는다.
        - 정적 변수
    - SET 명령을 통해 바꿀 수 있다.
        - 동적 변수
        - 설정 파일에는 적용되지 않는다.


## SET PERSIST

- SET PERSIST 로 시스템 변수를 변경하면 MySQL 서버는 변경된 값을 즉시 적용함과 동시에 별도의 설정 파일(mysqld-auto.cnt)에 변경 내용을 추가로 기록함.
- MySQL 서버가 다시 시작될 때 기본 설정 파일(my.cnf) 뿐만 아니라 자동 생성된 mysqld-auto.cnf 파일을 같이 참조해서 시스템 변수를 적용한다.
- 즉 SET PERSIST 를 사용하면 설정 파일에 따로 기록하지 않아도 된다.