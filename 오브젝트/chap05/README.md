# 책임 할당하기
- 데이터가 아닌 책임에 초점을 맞추는 것이 좋다.

## 책임 주도 설계를 향해
- 원칙
  - 데이터보다 행동을 먼저 결정하라
    - 객체에 중요한 것은 데이터가 아니라 외부에 제공하는 행동
    - 수행하는 행동 == 객체의 책임
    - 데이터는 재료일 뿐이다, 데이터에 초점을 맞추면 캡슐화가 약화된다.
  - 협력이라는 문맥 안에서 책임을 결정하라
    - 객체에 할당된 책임이 협력에 어울리지 않는다면 그 책임은 나쁜 것이다
    - 책임은 객체가 참여하는 협력에 적합해야 한다.
    - 협력을 시작하는 주체는 메시지 전송자이기 때문에 협력에 적합한 책임일란 메시지 수신자가 아니라 메시지 전송자에게 적합한 책임을 의미한다.
    - 메시지를 전송하는 클라이언트의 의도에 적합한 책임을 할당해야 한다.
      - 각주 : 그러니까... 메시지를 받는 객체가 받을만한 객체인지? (+ 정보 전문가 패턴)
- 책임 주도 설계
  - 시스템이 사용자에게 제공하는 기능인 시스템 책임을 파악한다.
  - 시스템 책임을 더 작은 책임으로 불할한다.
  - 분할된 책임을 수행할 수 있는 적절한 객체 또는 역할을 찾아 책임을 할당한다.
  - 객체가 책임을 수행하는 도중 다른 객체의 도움이 필요한 경우 이를 책임질 적절한 객체 또는 역할을 찾는다.
  - 해당 객체 또는 역할에게 책임을 할당함으로써 두 객체가 협력하게 한다.

## 책임 할당을 위한 GRASP 패턴
- General Responsibility Assignment Software Pattern
- 도메인 개념에서 출발하기
  - 도메인 UML
- 정보 전문가에게 책임을 할당하라
  - 애플리케이션이 제공할 기능을 책임으로 생각한다.
  - 정보 전문가 패턴
    - 책임을 수행할 정보를 알고 있는 객체에게 책임을 할당하는 것이다.
    - 정보를 알고 있는 객체만이 책임을 어떻게 수행할지 스스로 결정할 수 있기 때문에 객체가 자율적인 존재여야 한다는 사실을 상기시킨다.
  - 높은 응집도와 낮은 결합도
  - 창조자에게 객체 생성 책임을 할당하라
    - 협력에 참여하는 어떤 객체에게는 인스턴스를 생성할 책임을 할당해야 한다.
    - 아래 조건을 많이 만족하는 B 에게 생성 책임을 할당
      - B가 A 객체를 포함하거나 참조한다.
      - B가 A 객체를 기록한다.
      - B가 A 객체를 긴밀하게 사용한다.
      - B가 A 객체를 초기화하는 데 필요한 데이터를 가지고 있다.
  - 다형성 패턴
    - 객체의 타입에 따라 변하는 행동이 있다면 타입을 분리하고 변화하는 행동을 각 타입의 책임으로 할당하라
  - 변경 보호 패턴
    - 변경을 캡슐화하도록 책ㅇ미을 할ㄷ아
  - 변경과 유연성
    - 개발자로서 변경에 대비할 수 있는 두 가지 방법
      - 코드를 이해하고 수정하기 쉽도록 최대한 단순하게 설계
      - 코드를 수정하지 않고도 변경을 수용할 수 있도록 ㅋ코드를 더 유연하게 만드는 것
    - 2 장에서 봤던 대로 합성하는 방식이 상속보다 훨씬 유연함
